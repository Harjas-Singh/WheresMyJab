<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <title>WheresMyJab</title>
        <script>
            !(function (t, e) {
                var o, n, p, r
                e.__SV ||
                    ((window.posthog = e),
                    (e._i = []),
                    (e.init = function (i, s, a) {
                        function g(t, e) {
                            var o = e.split('.')
                            2 == o.length && ((t = t[o[0]]), (e = o[1])),
                                (t[e] = function () {
                                    t.push([e].concat(Array.prototype.slice.call(arguments, 0)))
                                })
                        }
                        ;((p = t.createElement('script')).type = 'text/javascript'),
                            (p.async = !0),
                            (p.src = s.api_host + '/static/array.js'),
                            (r = t.getElementsByTagName('script')[0]).parentNode.insertBefore(p, r)
                        var u = e
                        for (
                            void 0 !== a ? (u = e[a] = []) : (a = 'posthog'),
                                u.people = u.people || [],
                                u.toString = function (t) {
                                    var e = 'posthog'
                                    return 'posthog' !== a && (e += '.' + a), t || (e += ' (stub)'), e
                                },
                                u.people.toString = function () {
                                    return u.toString(1) + '.people (stub)'
                                },
                                o =
                                    'capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags'.split(
                                        ' '
                                    ),
                                n = 0;
                            n < o.length;
                            n++
                        )
                            g(u, o[n])
                        e._i.push([i, s, a])
                    }),
                    (e.__SV = 1))
            })(document, window.posthog || [])
            posthog.init('X2jpMfG6XE4LDdh_VBuNvjXoelYBDABzqllxJ0kfrBw', { api_host: 'https://app.posthog.com' })
        </script>
    </head>
    <body>
        <script>
            if (typeof Object.entries === 'undefined') {
                var div = document.createElement('div')
                div.style.color = '#fef6f6'
                div.style.background = '#920c0c'
                div.style.padding = '5px 10px'
                div.innerHTML = 'You are using a really old browser. Please upgrade !'
                document.body.prepend(div)
            }
        </script>
        <div id="root"></div>
        <script src="/__/firebase/8.6.3/firebase-app.js"></script>
        <script src="/__/firebase/8.6.3/firebase-messaging.js"></script>
        <script src="/__/firebase/init.js?useEmulator=true"></script>

        <script>
            const messaging = firebase.messaging()
            messaging.onMessage((payload) => {
                console.log('Message received. ', payload)
                // Update the UI to include the received message.
                appendMessage(payload)
            })

            function resetUI() {
                messaging
                    .getToken({
                        vapidKey:
                            'BCCy_QI4pW6YNdntCWrikXO5Eq4Eo0IAT1EEPp9a9-MmCHd3Ick88-GP3ndOLJt33KyJtbDmP7v6CTE47Vn8IAQ',
                    })
                    .then((currentToken) => {
                        if (currentToken) {
                            console.log(currentToken)
                        } else {
                            // Show permission request.
                            console.log('No registration token available. Request permission to generate one.')
                            // Show permission UI.
                        }
                    })
                    .catch((err) => {
                        console.log('An error occurred while retrieving token. ', err)
                    })
            }

            resetUI()
            console.log('Shit')
        </script>
    </body>
</html>
